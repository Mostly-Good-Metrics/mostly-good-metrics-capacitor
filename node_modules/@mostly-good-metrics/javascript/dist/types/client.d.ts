import { EventProperties, MGMConfiguration, ResolvedConfiguration, UserProfile } from './types';
/**
 * Main client for MostlyGoodMetrics.
 * Use the static `configure` method to initialize, then use static methods or the instance.
 */
export declare class MostlyGoodMetrics {
    private static instance;
    private config;
    private storage;
    private networkClient;
    private flushTimer;
    private isFlushingInternal;
    private sessionIdValue;
    private anonymousIdValue;
    private lifecycleSetup;
    /**
     * Private constructor - use `configure` to create an instance.
     */
    private constructor();
    /**
     * Configure and initialize the SDK.
     * Returns the singleton instance.
     */
    static configure(config: MGMConfiguration): MostlyGoodMetrics;
    /**
     * Get the shared instance, or null if not configured.
     */
    static get shared(): MostlyGoodMetrics | null;
    /**
     * Check if the SDK has been configured.
     */
    static get isConfigured(): boolean;
    /**
     * Reset the SDK (primarily for testing).
     */
    static reset(): void;
    /**
     * Track an event with the given name and optional properties.
     */
    static track(name: string, properties?: EventProperties): void;
    /**
     * Identify the current user with optional profile data.
     * @param userId The user's unique identifier
     * @param profile Optional profile data (email, name)
     */
    static identify(userId: string, profile?: UserProfile): void;
    /**
     * Reset user identity.
     */
    static resetIdentity(): void;
    /**
     * Flush pending events to the server.
     */
    static flush(): Promise<void>;
    /**
     * Start a new session.
     */
    static startNewSession(): void;
    /**
     * Clear all pending events.
     */
    static clearPendingEvents(): Promise<void>;
    /**
     * Get the count of pending events.
     */
    static getPendingEventCount(): Promise<number>;
    /**
     * Set a single super property that will be included with every event.
     */
    static setSuperProperty(key: string, value: EventProperties[string]): void;
    /**
     * Set multiple super properties at once.
     */
    static setSuperProperties(properties: EventProperties): void;
    /**
     * Remove a single super property.
     */
    static removeSuperProperty(key: string): void;
    /**
     * Clear all super properties.
     */
    static clearSuperProperties(): void;
    /**
     * Get all current super properties.
     */
    static getSuperProperties(): EventProperties;
    /**
     * Get the current user ID.
     */
    get userId(): string | null;
    /**
     * Get the current session ID.
     */
    get sessionId(): string;
    /**
     * Get the anonymous ID (auto-generated UUID, persisted across sessions).
     */
    get anonymousId(): string;
    /**
     * Check if a flush operation is in progress.
     */
    get isFlushing(): boolean;
    /**
     * Get the resolved configuration.
     */
    get configuration(): ResolvedConfiguration;
    /**
     * Track an event with the given name and optional properties.
     */
    track(name: string, properties?: EventProperties): void;
    /**
     * Identify the current user with optional profile data.
     * Profile data is sent to the backend via the $identify event.
     * Debouncing: only sends $identify if payload changed or >24h since last send.
     *
     * @param userId The user's unique identifier
     * @param profile Optional profile data (email, name)
     */
    identify(userId: string, profile?: UserProfile): void;
    /**
     * Send $identify event if debounce conditions are met.
     * Only sends if: hash changed OR more than 24 hours since last send.
     */
    private sendIdentifyEventIfNeeded;
    /**
     * Simple hash function for debouncing.
     * Uses a basic string hash - not cryptographic, just for comparison.
     */
    private simpleHash;
    /**
     * Reset user identity.
     * Clears the user ID and identify debounce state.
     */
    resetIdentity(): void;
    /**
     * Start a new session.
     */
    startNewSession(): void;
    /**
     * Flush pending events to the server.
     */
    flush(): Promise<void>;
    /**
     * Clear all pending events.
     */
    clearPendingEvents(): Promise<void>;
    /**
     * Get the count of pending events.
     */
    getPendingEventCount(): Promise<number>;
    /**
     * Set a single super property that will be included with every event.
     */
    setSuperProperty(key: string, value: EventProperties[string]): void;
    /**
     * Set multiple super properties at once.
     */
    setSuperProperties(properties: EventProperties): void;
    /**
     * Remove a single super property.
     */
    removeSuperProperty(key: string): void;
    /**
     * Clear all super properties.
     */
    clearSuperProperties(): void;
    /**
     * Get all current super properties.
     */
    getSuperProperties(): EventProperties;
    /**
     * Clean up resources (stop timers, etc.).
     */
    destroy(): void;
    private checkBatchSize;
    private performFlush;
    private buildPayload;
    private startFlushTimer;
    private stopFlushTimer;
    private setupLifecycleTracking;
    private removeLifecycleListeners;
    private trackInstallOrUpdate;
    private trackAppOpened;
    private handleVisibilityChange;
    private handleBeforeUnload;
    private handlePageHide;
    private flushWithBeacon;
}
//# sourceMappingURL=client.d.ts.map